{% extends 'layout.html' %}

{% block content %}
<main>
  <div class="px-4 py-3 my-2 text-center">
    <h1 class="display-6 fw-bold text-primary">Welcome to Azure</h1> 
  </div>
  {% if not session.get('user') %}
    <form method="post" action="{{ url_for('login', next=request.args.get('next')) }}">
      <div class="col-md-6 mx-auto text-center">
        <div class="form-group has-success">
          <input type="text" class="form-control" name="username" placeholder="Username" />
        </div>
  
        <div class="form-group has-success">
          <input type="password" class="form-control" name="password" placeholder="Password" />
        </div>
        <div class="d-grid gap-2 d-sm-flex justify-content-sm-center my-2">
          <button type="submit" name="submit" class="btn btn-lg btn-success btn-block">Submit</button>
        </div>
      </div>
    </form>
  {% else %}

    <div class="px-4 py-3 my-4 text-center">
      <p class="fw-bold text-primary">
        <a href="{{ url_for('new') }}" class="btn btn-primary btn-sm px-4 gap-3">New Pin</a>
        Or you can
        <a href="{{ url_for('photos') }}" class="btn btn-primary btn-sm px-4 gap-3">Upload images</a>
      </p>
    </div>

    {% endif %} 


  <div class="mx-5" style='display: flex; justify-content: space-evenly; flex-wrap: wrap'>
  {% for image in images %}
    <div class="card" style="width: auto">
      <img src='{{ image["image_url"] }}' class="card-img-top" width='auto' height='300' style='margin: 0.5em 0;'/>
      <div class="card-body">
        <h5 class="card-title">{{ image['title'] }}</h5>
        <button type="button" class="btn btn-info"><a href="{{url_for('get_image', pin_id=image.id)}}">Show pin</a></button>
        <button type="button" class="btn btn-light"><i class="fa-solid fa-thumbtack"></i></button>
      </div>

    </div>

  {% endfor %}
  </div>


  
</main>      
{% endblock %}

{% extends 'layout.html' %}

{% block content %}
<main>
  <div class="px-4 py-3 my-2 text-center">
    <h1 class="display-6 fw-bold text-primary">Welcome to Azure</h1> 
  </div>
  {% if not session.get('user') %}
    <form method="post" action="{{ url_for('login', next=request.args.get('next')) }}">
      <div class="col-md-6 mx-auto text-center">
        <div class="form-group has-success">
          <input type="text" class="form-control" name="username" placeholder="Username" />
        </div>
  
        <div class="form-group has-success">
          <input type="password" class="form-control" name="password" placeholder="Password" />
        </div>
        <div class="d-grid gap-2 d-sm-flex justify-content-sm-center my-2">
          <button type="submit" name="submit" class="btn btn-lg btn-success btn-block">Submit</button>
        </div>
      </div>
    </form>
  {% else %}
    <form action="/newimage" method="POST">
      <div class="col-md-6 mx-auto text-center">
        <label for="name" class="form-label fw-bold fs-5">Pin your image</label>
        <div class="d-grid gap-2 d-sm-flex justify-content-sm-center align-items-center my-1">
          <input type="text" class="form-control" name="image_url" placeholder="Image URL" />
        </div>
        <div class="d-grid gap-2 d-sm-flex justify-content-sm-center align-items-center my-1">
          <input type="text" class="form-control" name="image_text" placeholder="Text" />
        </div>
        <div class="d-grid gap-2 d-sm-flex justify-content-sm-center my-2">
          <button type="submit" class="btn btn-primary btn-lg px-4 gap-3">Add image</button>
        </div>
      </div>
    </form>

    <div class="px-4 py-3 my-4 text-center">
      <p class="fw-bold text-primary">
        Or you can
        <a href="{{ url_for('photos') }}" class="btn btn-primary btn-sm px-4 gap-3">Upload images</a>
      </p>
    </div>

    <div class="mx-5" style='display: flex; justify-content: space-between;'>
      {% for image in images %}
        <img src='{{ image["image"] }}' width='auto' height='300' style='margin: 0.5em 0;'/>
      {% endfor %}
    </div>  
  {% endif %} 
</main>      
{% endblock %}
